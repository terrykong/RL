{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:best-practices",
    ":dependencyDashboard"
  ],
  "schedule": [
    "after 9am and before 5pm every weekday"
  ],
  "timezone": "America/Los_Angeles",
  "cloneSubmodules": true,
  "prConcurrentLimit": 1,
  "prHourlyLimit": 0,
  "semanticCommits": "disabled",
  "commitMessagePrefix": "[Renovate]",
  "branchPrefix": "renovate/",
  "labels": [
    "dependencies",
    "CI:L2"
  ],
  "assignees": [],
  "reviewers": [],
  "postUpgradeTasks": {
    "commands": [
      ".github/scripts/renovate_post_update.sh"
    ],
    "fileFilters": [
      "uv.lock",
      "3rdparty/**/setup.py"
    ],
    "executionMode": "update"
  },
  "packageRules": [
    {
      "description": "Disable Python dependency updates unless explicitly allowlisted",
      "matchManagers": [
        "pep621"
      ],
      "enabled": false
    },
    {
      "description": "Allowlisted training stack dependencies (from initial requirements)",
      "matchManagers": [
        "pep621"
      ],
      "matchPackageNames": [
        "vllm",
        "torch",
        "ray",
        "transformer-engine",
        "flash-attn",
        "transformers"
      ],
      "enabled": true
    },
    {
      "description": "Disable alternate Python managers that duplicate pep621 coverage",
      "matchManagers": [
        "pip_setup",
        "poetry",
        "pixi"
      ],
      "enabled": false
    },
    {
      "description": "Group every allowed update into a single PR",
      "groupName": "allowlisted dependency updates",
      "additionalBranchPrefix": "allowlist-",
      "separateMajorMinor": false,
      "separateMultipleMajor": false,
      "matchPackageNames": [
        "*"
      ]
    }
  ],
  "git-submodules": {
    "enabled": true
  },
  "pep621": {
    "enabled": true
  },
  "lockFileMaintenance": {
    "enabled": false
  },
  "vulnerabilityAlerts": {
    "enabled": false
  },
  "osvVulnerabilityAlerts": false,
  "rangeStrategy": "bump",
  "platformAutomerge": false,
  "rebaseWhen": "behind-base-branch",
  "forkProcessing": "enabled"
}
